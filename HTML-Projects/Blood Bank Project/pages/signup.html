<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/6.2.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.2/firebase-database.js"></script>


    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyCqCE5tUMkmCdbu-VdKYG0JjcHwXQgYZys",
            authDomain: "blood-bank-app-7b607.firebaseapp.com",
            databaseURL: "https://blood-bank-app-7b607-default-rtdb.firebaseio.com",
            projectId: "blood-bank-app-7b607",
            storageBucket: "blood-bank-app-7b607.appspot.com",
            messagingSenderId: "241258421966",
            appId: "1:241258421966:web:fd758539dc87080dd2ba9f"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        #maindiv {
            width: 500px;
            border: 1px solid rgb(223, 220, 220);
            border-radius: 5px;
            padding: 10px;
            font-weight: bolder;
            box-shadow: 0 0 20px rgb(163, 163, 163);

        }

        fieldset {
            border: 1px solid rgb(223, 220, 220);
            border-radius: 5px;
            width: 350px;
            text-align: left;
            padding-top: 10px;
            padding-bottom: 10px;


        }

        #legend1 {
            font-family: 'Times New Roman', Times, serif;
            color: #9c1d1d;
            font-size: 12px;
            display: none;
        }

        .input1 {
            width: 310px;
            height: 20px;
            border: 1px solid white;
            outline: none;
            font-family: 'Times New Roman', Times, serif;
            font-size: 17px;
            color: rgb(180, 179, 179);

        }

        h2 {
            font-family: fantasy;
            color: #9c1d1d;
            font-size: 40px;
        }

        #span2 {
            display: none;
        }

        .btn1 {
            background-color: #9c1d1d;
            border: 1px solid #9c1d1d;
            color: white;
            padding: 8px;
            border-radius: 5px;
            text-transform: uppercase;
            width: 200px;
            padding: 15px;
        }

        #center1 {
            display: none;
        }

        #secDiv {
            background-color: #9c1d1d;
            padding-top: 70px;
            padding-bottom: 70px;
        }
    </style>
</head>

<body>
    <!-- <div id="secDiv">

        </div> -->
    <br><br><br>
    <center id="center">

        <div id="maindiv">

            <h2 id="h2">
                Sign Up
            </h2>
            <br><br>
            <fieldset>
                <legend id="legend1"></legend>
                <input type="text" class="input1" id="input1" placeholder=" User Name">
            </fieldset>
            <br>
            <fieldset>
                <legend id="legend1"></legend>
                <input type="email" class="input1" id="input2" placeholder=" Email Adress">
            </fieldset>
            <br>
            <fieldset id="fieldset">
                <legend id="legend1"></legend>
                <input type="password" name="number" class="input1" id="input3" placeholder=" Enter Password">
            </fieldset>

            <br>
            <fieldset>
                <legend id="legend1"></legend>
                <input type="text" class="input1" id="input4" placeholder="  Age">
            </fieldset>
            <br>
            <fieldset>
                <legend id="legend1"></legend>
                <input type="number" class="input1" id="input6" placeholder="  Phone Number">
            </fieldset>
            <br>
            <fieldset>
                <legend id="legend1"></legend>
                <input type="text" class="input1" id="input7" placeholder="  Address">
            </fieldset>
            <br>
            <input type="button" onclick="signup()" value="Sign Up" id="btn" class="btn1">

        </div>
    </center>

</body>
<script src="https://www.gstatic.com/firebasejs/6.2.2/firebase-auth.js"></script>

<script>
    let database = firebase.database().ref("/");

    let signup = () => {
        let name = document.getElementById("input1").value;
        let email = document.getElementById("input2").value;
        let password = document.getElementById("input3").value;
        let age = document.getElementById("input4").value;
        let number = document.getElementById("input6").value;
        let address = document.getElementById("input7").value;


        const obj = {
            name,
            email,
            password,
            age,
            address,
            number,
        }
        console.log(obj);
        firebase.auth().createUserWithEmailAndPassword(obj.email, obj.password).then(res => {
            console.log(res.user.uid);
            database.child(`Users/${res.user.uid}`).set(obj);
            location.href = "login.html"
        }).catch(function (error) {
            // Handle Errors here.
            var errorCode = error.code;
            var errorMessage = error.message;
            console.log(errorMessage);
            // ...
        });


    }




</script>

</html>